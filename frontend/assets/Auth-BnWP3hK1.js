import{r as n,u as P,w as H,o as M,a as D,c as h,b as o,d as T,e as s,v as r,f as v,F,g as K,h as j,i as y}from"./index-BHu86sKb.js";const B={class:"w-full h-full rounded-xl bg-white"},E={key:0,class:"rounded-xl w-full h-full bg-white"},L={key:1,class:"rounded-xl w-full h-full bg-white"},z={class:"flex flex-col sm:flex-row sm:space-x-2"},W={class:"sm:flex"},R={class:"flex items-center"},A={__name:"Auth",props:{action:{type:Boolean}},setup(U){const k=n(null),u=P(),N=K(),p=j(),m=n(""),f=n(""),g=U,w=n(""),C=async()=>{var a,e,l;try{await N.dispatch("login",{username:m.value,password:f.value}),p.go(-1)}catch(i){console.log(i);const x=((l=(e=(a=i.response)==null?void 0:a.data)==null?void 0:e.error)==null?void 0:l.message.message)||"Có lỗi xảy ra. Vui lòng thử lại.";u.error(x)}},t=n({HoLot:"",Ten:"",NgaySinh:"",SoDienThoai:"",Phai:"",DiaChi:"",email:"",password:""}),S=async()=>{var a,e;try{if(w.value!==t.value.password){u.error("Mật khẩu nhập lại không khớp");return}else await N.dispatch("register",t.value),p.go(-1)}catch(l){console.log(l);const i=((e=(a=l.response)==null?void 0:a.data)==null?void 0:e.message)||"Có lỗi xảy ra. Vui lòng thử lại.";u.error(i)}},d=n(!0),V=()=>{d.value=!d.value},b=()=>{p.go(-1)};function c(){const a=k.value;if(a){const e=window.innerHeight,l=window.innerWidth,i=parseFloat(window.getComputedStyle(a).padding),x=e-64-2*i,q=l-2*i;a.style.maxHeight=`${x}px`,a.style.maxWidth=`${q}px`}}return H(()=>g.action,(a,e)=>{a!==e&&(d.value=g.action)},{deep:!0}),M(()=>{c(),d.value=g.action,window.addEventListener("resize",c)}),D(()=>{window.removeEventListener("resize",c)}),(a,e)=>(y(),h(F,null,[o("div",{class:"absolute inset-0 bg-[#FEF6DF] z-30",onClick:b}),o("div",{ref_key:"formContainer",ref:k,class:"bg-white absolute z-30 box-border overflow-y-auto overflow-x-hidden rounded-xl w-fit top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 p-6 border-2 shadow-md",style:{"scrollbar-gutter":"stable","clip-path":"inset(0 round 10px)"}},[o("div",B,[d.value?(y(),h("div",E,[e[17]||(e[17]=o("h2",{class:"text-xl font-bold mb-6 text-center whitespace-nowrap"},"Đăng nhập",-1)),o("form",{onSubmit:T(C,["prevent"]),class:"space-y-4"},[o("div",null,[e[13]||(e[13]=o("label",{for:"email",class:"block font-medium text-gray-700 whitespace-nowrap"},"Tên đăng nhập",-1)),s(o("input",{required:"",type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>m.value=l),id:"email",name:"email",placeholder:"Nhập email đăng nhập",class:"mt-1 block w-full px-3 py-2 text-[#aaa] border border-[#aaa] rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[r,m.value]])]),o("div",null,[e[14]||(e[14]=o("label",{for:"pass",class:"block font-medium text-gray-700 whitespace-nowrap"},"Mật Khẩu",-1)),s(o("input",{required:"",type:"password","onUpdate:modelValue":e[1]||(e[1]=l=>f.value=l),id:"pass",name:"pass",placeholder:"Nhập mật khẩu",class:"mt-1 block w-full px-3 py-2 text-[#aaa] border border-[#aaa] rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[r,f.value]])]),o("div",{class:""},[e[15]||(e[15]=o("button",{type:"submit",class:"inline-flex w-full mt-5 justify-center py-2 px-4 border border-transparent shadow-sm font-medium rounded-md text-white bg-indigo-500 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-700 whitespace-nowrap"}," Đăng Nhập ",-1)),e[16]||(e[16]=o("div",{class:"text-center w-full mt-3"},"Nếu bạn chưa có tài khoản",-1)),o("div",{onClick:V,class:"inline-flex w-full justify-center font-medium text-indigo-500 whitespace-nowrap cursor-pointer"}," Đăng Ký "),o("div",{onClick:b,class:"text-center w-full mt-3 text-sm font-light cursor-pointer"},"Trở lại trang chủ")])],32)])):(y(),h("div",L,[e[32]||(e[32]=o("h2",{class:"text-xl font-bold mb-6 text-center whitespace-nowrap"},"Đăng Ký",-1)),o("form",{onSubmit:T(S,["prevent"]),class:"space-y-4"},[o("div",z,[o("div",null,[e[18]||(e[18]=o("label",{for:"firstName",class:"block font-medium text-gray-700 whitespace-nowrap"},"Họ & Tên đệm",-1)),s(o("input",{required:"",type:"text",id:"firstName","onUpdate:modelValue":e[2]||(e[2]=l=>t.value.HoLot=l),placeholder:"Nhập họ và tên đệm",class:"mt-1 block w-full px-3 py-2 text-[#aaa] border border-[#aaa] rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[r,t.value.HoLot]])]),o("div",null,[e[19]||(e[19]=o("label",{for:"name",class:"block font-medium text-gray-700 whitespace-nowrap"},"Tên",-1)),s(o("input",{required:"",type:"text",id:"name","onUpdate:modelValue":e[3]||(e[3]=l=>t.value.Ten=l),placeholder:"Nhập tên",class:"mt-1 block w-full px-3 py-2 text-[#aaa] border border-[#aaa] rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[r,t.value.Ten]])])]),o("div",null,[e[20]||(e[20]=o("label",{for:"date",class:"block font-medium text-gray-700 whitespace-nowrap"},"Ngày sinh",-1)),s(o("input",{required:"",type:"date",id:"date","onUpdate:modelValue":e[4]||(e[4]=l=>t.value.NgaySinh=l),placeholder:"Nhập ngày sinh",class:"mt-1 block w-full px-3 py-2 text-[#aaa] border border-[#aaa] rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[r,t.value.NgaySinh]])]),o("div",null,[e[21]||(e[21]=o("label",{for:"phone",class:"block font-medium text-gray-700 whitespace-nowrap"},"Số điện thoại",-1)),s(o("input",{required:"",type:"tel",pattern:"[0-9]{10}",id:"phone","onUpdate:modelValue":e[5]||(e[5]=l=>t.value.SoDienThoai=l),placeholder:"0123456789",class:"mt-1 block w-full px-3 py-2 text-[#aaa] border border-[#aaa] rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[r,t.value.SoDienThoai]])]),o("div",W,[e[25]||(e[25]=o("label",{class:"block font-medium text-gray-700 whitespace-nowrap mr-5"},"Giới tính",-1)),o("div",R,[s(o("input",{required:"",type:"radio",id:"male",value:"Nam","onUpdate:modelValue":e[6]||(e[6]=l=>t.value.Phai=l),class:"mr-2"},null,512),[[v,t.value.Phai]]),e[22]||(e[22]=o("label",{for:"male",class:"mr-4"},"Nam",-1)),s(o("input",{required:"",type:"radio",id:"female",value:"Nữ","onUpdate:modelValue":e[7]||(e[7]=l=>t.value.Phai=l),class:"mr-2"},null,512),[[v,t.value.Phai]]),e[23]||(e[23]=o("label",{for:"female",class:"mr-4"},"Nữ",-1)),s(o("input",{required:"",type:"radio",id:"other",value:"Khác","onUpdate:modelValue":e[8]||(e[8]=l=>t.value.Phai=l),class:"mr-2"},null,512),[[v,t.value.Phai]]),e[24]||(e[24]=o("label",{for:"other"},"Khác",-1))])]),o("div",null,[e[26]||(e[26]=o("label",{for:"address",class:"block font-medium text-gray-700 whitespace-nowrap"},"Địa chỉ",-1)),s(o("input",{required:"",type:"text",id:"address","onUpdate:modelValue":e[9]||(e[9]=l=>t.value.DiaChi=l),placeholder:"Xã/Phường, Quận/Huyện, Tỉnh/Thành phố",class:"mt-1 block w-full px-3 py-2 text-[#aaa] border border-[#aaa] rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[r,t.value.DiaChi]])]),o("div",null,[e[27]||(e[27]=o("label",{for:"email",class:"block font-medium text-gray-700 whitespace-nowrap"},"Email",-1)),s(o("input",{required:"",type:"email",id:"email","onUpdate:modelValue":e[10]||(e[10]=l=>t.value.email=l),placeholder:"email@gmail.com",class:"mt-1 block w-full px-3 py-2 text-[#aaa] border border-[#aaa] rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[r,t.value.email]])]),o("div",null,[e[28]||(e[28]=o("label",{for:"pass",class:"block font-medium text-gray-700 whitespace-nowrap"},"Mật Khẩu",-1)),s(o("input",{required:"",type:"password","onUpdate:modelValue":e[11]||(e[11]=l=>t.value.password=l),id:"pass",placeholder:"Nhập mật khẩu",class:"mt-1 block w-full px-3 py-2 text-[#aaa] border border-[#aaa] rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[r,t.value.password]])]),o("div",null,[e[29]||(e[29]=o("label",{for:"pass2",class:"block font-medium text-gray-700 whitespace-nowrap"},"Nhập lại mật khẩu",-1)),s(o("input",{type:"password",id:"pass2","onUpdate:modelValue":e[12]||(e[12]=l=>w.value=l),placeholder:"Nhập lại mật khẩu",class:"mt-1 block w-full px-3 py-2 border border-[#aaa] rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[r,w.value]])]),o("div",{class:""},[e[30]||(e[30]=o("button",{type:"submit",class:"inline-flex w-full mt-5 justify-center py-2 px-4 border border-transparent shadow-sm font-medium rounded-md text-white bg-indigo-500 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-700 whitespace-nowrap"}," Đăng Ký ",-1)),e[31]||(e[31]=o("div",{class:"text-center w-full mt-3"},"Nếu bạn đã có tài khoản",-1)),o("div",{onClick:V,class:"inline-flex w-full justify-center font-medium text-indigo-500 whitespace-nowrap cursor-pointer"}," Đăng Nhập "),o("div",{onClick:b,class:"text-center w-full mt-3 text-sm font-light cursor-pointer"},"Trở lại trang chủ")])],32)]))])],512)],64))}};export{A as default};
